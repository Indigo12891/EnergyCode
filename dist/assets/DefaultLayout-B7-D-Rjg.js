import{d as S,_ as B,r as t,c as _,w as z,o as s,a as n,b as v,F as C,e as U,f as e,g as f,h as T,t as L,v as G,u as j,i as k,s as R,j as J,k as N,l as F,m as P,n as E,K as Q}from"./index-CQiJAfLM.js";import{u as H}from"./tabs-CjNJc5g3.js";import{l as W}from"./logo-nDJS6iMc.js";const X=S({name:"MyMenu",props:{item:{type:Object,required:!0}},setup(){const o=H(),{addTab:u,setCurrentTab:i}=o;return{add:(l,c,a)=>{u(l,c,a),i(l,c)}}}});function Y(o,u,i,p,l,c){const a=t("el-icon"),d=t("my-menu"),h=t("el-sub-menu"),w=t("el-menu-item");return o.item.children?(s(),_(h,{key:0,index:o.item.url},{title:n(()=>[e(a,null,{default:n(()=>[(s(),_(T(o.item.icon)))]),_:1}),f("span",null,L(o.item.name),1)]),default:n(()=>[(s(!0),v(C,null,U(o.item.children,b=>(s(),_(d,{key:b.url,item:b},null,8,["item"]))),128))]),_:1},8,["index"])):z((s(),_(w,{key:1,index:o.item.url,onClick:u[0]||(u[0]=b=>o.add(o.item.name,o.item.url,o.item.icon))},{default:n(()=>[e(a,null,{default:n(()=>[(s(),_(T(o.item.icon)))]),_:1}),f("span",null,L(o.item.name),1)]),_:1},8,["index"])),[[G,o.item.name!="订单详情"]])}const Z=B(X,[["render",Y],["__scopeId","data-v-bca063a9"]]),x={class:"logo"},ee=["src"],ne=S({__name:"Menu",setup(o){const i=j().menu;return(p,l)=>{const c=t("el-menu");return s(),v(C,null,[f("div",x,[f("img",{src:k(W),height:"34px",width:"34px"},null,8,ee),l[0]||(l[0]=f("h1",null,"动力港",-1))]),e(c,{router:!0,"default-active":p.$route.path},{default:n(()=>[(s(!0),v(C,null,U(k(i),a=>(s(),_(Z,{item:a,key:a.url},null,8,["item"]))),128))]),_:1},8,["default-active"])],64)}}}),te=B(ne,[["__scopeId","data-v-84e13d3d"]]),oe={class:"header"},ae={class:"personal"},se={class:"el-dropdown-link"},le=S({__name:"TopHeader",setup(o){const u=j(),{username:i}=R(u),p=J(5),l=F(),c=a=>{a=="user"?l.push("/personal"):(u.logout(),l.push("/login"))};return(a,d)=>{const h=t("Bell"),w=t("el-icon"),b=t("el-badge"),V=t("el-avatar"),I=t("arrow-down"),$=t("el-dropdown-item"),M=t("el-dropdown-menu"),A=t("el-dropdown");return s(),v("div",oe,[f("div",ae,[e(b,{"is-dot":p.value>0,class:"item"},{default:n(()=>[e(w,null,{default:n(()=>[e(h)]),_:1})]),_:1},8,["is-dot"]),e(V,{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",class:"ml mr"}),e(A,{onCommand:c},{dropdown:n(()=>[e(M,null,{default:n(()=>[e($,{icon:"User",command:"user"},{default:n(()=>d[0]||(d[0]=[N("个人中心")])),_:1}),e($,{icon:"SwitchButton",command:"logout"},{default:n(()=>d[1]||(d[1]=[N("退出登录")])),_:1})]),_:1})]),default:n(()=>[f("span",se,[N(" 欢迎您，"+L(k(i))+"! ",1),e(w,{class:"el-icon--right"},{default:n(()=>[e(I)]),_:1})])]),_:1})])])}}}),ue=B(le,[["__scopeId","data-v-5108f4af"]]),re={class:"custom-tabs-label"},ce=S({__name:"TabsLayout",setup(o){const u=H(),i=j(),{menu:p}=R(i),l=F(),c=P(),{tabs:a,currentTab:d}=R(u),{setCurrentTab:h,addTab:w,removeTab:b}=u;function V(r,g){for(const y of r){if(y.url===g)return y;if(y.children){const D=V(y.children,g);if(D)return D}}return null}const{name:I,url:$,icon:M}=V(p.value,c.path);w(I,$,M),h(I,$);const A=({index:r})=>{l.push(a.value[r].url),h(a.value[r].name,a.value[r].url)},K=r=>{b(r),l.push(d.value.url)};return(r,g)=>{const y=t("el-icon"),D=t("el-tab-pane"),O=t("el-tabs"),q=t("router-view");return s(),v(C,null,[e(O,{modelValue:k(d).name,"onUpdate:modelValue":g[0]||(g[0]=m=>k(d).name=m),class:"demo-tabs",onTabClick:A,type:"card",closable:"",onTabRemove:K},{default:n(()=>[(s(!0),v(C,null,U(k(a),m=>(s(),_(D,{key:m.name,label:m.name,name:m.name},{label:n(()=>[f("span",re,[e(y,null,{default:n(()=>[(s(),_(T(m.icon)))]),_:2},1024),f("span",null," "+L(m.name),1)])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),e(q,null,{default:n(({Component:m})=>[(s(),_(Q,null,[r.$route.meta.keepAlive?(s(),_(T(m),{key:r.$route.name})):E("",!0)],1024)),r.$route.meta.keepAlive?E("",!0):(s(),_(T(m),{key:r.$route.name}))]),_:1})],64)}}}),_e=B(ce,[["__scopeId","data-v-5d38f2c8"]]),de=S({__name:"DefaultLayout",setup(o){return(u,i)=>{const p=t("el-aside"),l=t("el-header"),c=t("el-main"),a=t("el-container");return s(),v("div",null,[e(a,null,{default:n(()=>[e(p,{width:"200px"},{default:n(()=>[e(te)]),_:1}),e(a,null,{default:n(()=>[e(l,null,{default:n(()=>[e(ue)]),_:1}),e(c,null,{default:n(()=>[e(_e)]),_:1})]),_:1})]),_:1})])}}}),fe=B(de,[["__scopeId","data-v-020d4b1a"]]);export{fe as default};
